{/* PlacesFinder.mdx */}

import { Canvas, Meta, Source } from '@storybook/blocks';
import * as PlacesFinderStories from './PlacesFinder.stories';

<Meta of={PlacesFinderStories} />

## Imports
<Source code={`
import { useLocationFinder } from '@ef2/react-gm-location-finder';
import { Button, Card, CardBody, CardHeader, Divider, Input, Skeleton } from '@nextui-org/react';
import { Autocomplete } from '@react-google-maps/api';
`}/>

## Usage
<Source code={`
// Hooks.
const { locations, loading } = useLocationFinder(); // Optional.
const { onPlaceChanged, onAutocompleteLoad, inputRef, onButtonClick } = usePlacesFinder();

if (loading) {
    return (
        <div className="container mx-auto px-4">
            <Card>
                <CardHeader className="flex-col items-start">
                    <Skeleton className="rounded w-[60%] mb-2">
                        <div className="h-4 rounded bg-gray-300"></div>
                    </Skeleton>
                    <Skeleton className="rounded w-[40%]">
                        <div className="h-4 rounded bg-gray-300"></div>
                    </Skeleton>
                </CardHeader>
            </Card>
        </div>
    );
}

return (
    <div className="container mx-auto px-4">
        <Card>
            <CardHeader className="flex-col items-start">
                <p>Vind een locatie in de buurt</p>
                <small>{locations.length} locaties gevonden</small> {/* Optional. */}
            </CardHeader>
            <Divider />
            <CardBody>
                <Autocomplete onLoad={onAutocompleteLoad} onPlaceChanged={onPlaceChanged}>
                    <div className="flex gap-2">
                        <Input ref={inputRef} />
                        <Button color="primary" onClick={onButtonClick}>
                            Zoeken
                        </Button>
                    </div>
                </Autocomplete>
            </CardBody>
        </Card>
    </div>
);
`}/>

<Canvas of={PlacesFinderStories.Primary} meta={PlacesFinderStories} />